# DocDuck Multi-Provider Configuration Example
# Copy to .env and fill in your values

# ============================================================
# REQUIRED: Core Configuration
# ============================================================

# OpenAI API Key (required for embeddings and chat)
OPENAI_API_KEY=sk-your-openai-api-key-here

# Database Connection (PostgreSQL with pgvector)
DB_CONNECTION_STRING=Host=localhost;Database=docduck;Username=docduck;Password=docduck123

# ============================================================
# OPTIONAL: OneDrive Provider
# ============================================================

# Enable OneDrive in appsettings.yaml, then configure:

# Authentication Mode: ClientSecret (app-only) or UserPassword (delegated)
GRAPH_AUTH_MODE=ClientSecret

# Account Type: business or personal
GRAPH_ACCOUNT_TYPE=business

# Azure AD App Registration (for ClientSecret mode)
GRAPH_TENANT_ID=your-tenant-id
GRAPH_CLIENT_ID=your-client-id
GRAPH_CLIENT_SECRET=your-client-secret

# OneDrive Location (for business accounts)
GRAPH_SITE_ID=your-sharepoint-site-id
GRAPH_DRIVE_ID=your-drive-id
GRAPH_FOLDER_PATH=/Shared Documents/Docs

# For UserPassword mode (not recommended, MFA not supported)
# GRAPH_USERNAME=user@company.com
# GRAPH_PASSWORD=password

# ============================================================
# OPTIONAL: AWS S3 Provider
# ============================================================

# Enable S3 in appsettings.yaml, then configure:

S3_BUCKET_NAME=your-s3-bucket-name
S3_PREFIX=documents/
S3_REGION=us-east-1

# Authentication (if not using IAM instance profile)
AWS_ACCESS_KEY_ID=your-access-key-id
AWS_SECRET_ACCESS_KEY=your-secret-access-key
# AWS_SESSION_TOKEN=optional-session-token

# ============================================================
# OPTIONAL: Local Files Provider
# ============================================================

# Enable Local in appsettings.yaml, then configure:

# Path to local documents directory (mount this in Docker)
LOCAL_DOCS_PATH=./docs-sample

# ============================================================
# OPTIONAL: Advanced Settings
# ============================================================

# OpenAI Configuration
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_EMBED_MODEL=text-embedding-3-small
OPENAI_CHAT_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=1000
OPENAI_TEMPERATURE=0.7
BATCH_SIZE=100

# Text Chunking
CHUNK_SIZE=500
CHUNK_OVERLAP=50
MAX_FILES=  # Leave empty for no limit, or set a number

# Search Settings
DEFAULT_TOP_K=5
MAX_TOP_K=20

# ============================================================
# Docker Compose Overrides
# ============================================================

# PostgreSQL (if running locally)
# POSTGRES_USER=docduck
# POSTGRES_PASSWORD=docduck123
# POSTGRES_DB=docduck

# API Port
# API_PORT=8080
